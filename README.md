# 动物故事生成器 / Animal Story Generator

一个多语言支持的网页应用，使用可爱的小动物来解释各种概念和主题。

## 功能特点

- 🌍 **多语言支持**: 中文、英文、日文、韩文
- 🎨 **多语言字体**: 每种语言都有对应的可爱手写体
  - 英文: Indie Flower (经典手写体)
  - 中文: 马善政体、站酷快乐体 (中式手写)
  - 日文: Klee One (日式手写体)
  - 韩文: Noto Sans KR (现代圆润体)
- 🐱 **多种动物**: 猫咪、兔子、狗狗、小鸟、熊猫、狐狸
- 🖼️ **自定义图片数量**: 1-5张图片
- 📸 **智能图片处理**: 
  - 支持 PNG/JPEG 格式上传
  - 自动格式检查与转换
  - 4MB 大小限制
  - 实时错误提示
  - Gemini API 兼容格式
- 📱 **响应式设计**: 支持移动端和桌面端
- 💾 **智能记忆**: 自动保存用户语言偏好
- 🎨 **优质体验**: 上传进度、动画效果、错误反馈

## 文件结构

```
cat/
├── index.html                           # 主HTML文件
├── style.css                            # 样式文件
├── script.js                            # 主要JavaScript逻辑
├── translations.js                      # 多语言翻译文件
├── README.md                            # 项目说明文档
├── IMAGE_UPLOAD_IMPLEMENTATION.md       # 图片上传实现详细说明
├── SEND_BUTTON_IMPLEMENTATION.md        # 发送按钮功能说明
├── MULTILINGUAL_API_INTEGRATION.md     # 多语言API集成说明
└── MULTILINGUAL_FONTS.md               # 多语言字体适配说明
```

## 使用方法

1. **选择语言**: 点击右上角的语言按钮
2. **选择配置**: 
   - 选择要生成的图片数量 (1-5张)
   - 选择动物类型 (猫、兔子、狗等)
3. **输入内容**: 
   - 在文本框中输入你想了解的主题
   - 或者上传一张图片作为参考
   - 或者点击示例问题
4. **获取结果**: 按回车键或点击提交，查看生成的故事

## 技术特性

### 前端架构
- **模块化设计**: CSS、JS、翻译文件分离
- **面向对象编程**: 使用ES6类组织代码
- **本地存储**: 记住用户语言偏好
- **响应式布局**: 适配各种屏幕尺寸
- **多语言API**: 前后端语言设置同步

### API接口
发送的请求格式（已优化为Gemini API兼容格式，支持多语言）：
```json
{
  "prompt": "什么是机器学习？",
  "num_images": 2,
  "animal": "cat",
  "language": "zh",
  "image": {
    "mime_type": "image/png",
    "data": "base64_encoded_image_data"
  }
}
```

**语言代码说明:**
- `zh`: 中文回复
- `en`: 英文回复  
- `ja`: 日文回复
- `ko`: 韩文回复

### 图片处理特性
- **格式支持**: PNG、JPEG 格式
- **大小限制**: 最大 4MB
- **自动转换**: 标准化 MIME 类型
- **错误处理**: 实时验证与多语言错误提示
- **进度反馈**: 上传处理进度动画
- **预览功能**: 即时图片预览与移除

### 语言支持
- **中文 (zh)**: 简体中文界面
- **英文 (en)**: English interface  
- **日文 (ja)**: 日本語インターフェース
- **韩文 (ko)**: 한국어 인터페이스

## 开发指南

### 添加新语言
1. 在 `translations.js` 中添加新语言对象
2. 在 `index.html` 中添加语言切换按钮
3. 在 `style.css` 中调整语言按钮样式（如需要）

### 添加新动物
1. 在 `translations.js` 中为每种语言添加动物名称
2. 确保后端API支持新的动物类型

### 自定义样式
- 修改 `style.css` 中的颜色变量
- 调整响应式断点
- 修改字体和布局

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 许可证

MIT License
